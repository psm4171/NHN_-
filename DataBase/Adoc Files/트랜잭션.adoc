트랜잭션이란?

데이터베이스 객체는 프로그램이 정보를 기록하거나 판독하는 단위 

데이터베이스에서 수행되는 작업의 단위, 절대 쪼개어질 수 없다.

- 원자성: 작업이 모두 성공하거나 모두 실패해야 한다. 하나라도 실패하면 이전으로 롤백된다.
- 일관성: 트랜잭션이 완료되면 데이터베이스는 일관된 상태여야 한다.
- 독립성: 여러 개의 트랜잭션이 동시 실행될 때, 각 트랜잭션이 다른 트랜잭션에 영향을 주지 않도록 보장해야 한다.
- 지속성: 트랜잭션이 성공적으로 완료되면 결과가 영구적으로 유지되어야 한다.

트랜잭션과 일관성 

:실행을 완료하면 언제나 일관성 있는 데이터베이스 상태로 유지됨을 보장 

즉, 모든 트랜잭션은 순서대로 실행한 결과를 보장해야 함

t1, t2 동시에 실행되더라도 실제 효과는 t1이 종료된 후 t2가 실행된 결과와 같아야 함

Isolation Level 

: **격리 수준(Isolation Level)은 데이터베이스에서 동시에 실행되는 여러 트랜잭션 간에 어떤 수준으로 서로를 간섭하지 않고 독립적으로 실행될 수 있는지를 결정하는 개념**

사용 목적 : 동시성 제어를 통해 트랜잭션 간의 간겁 문제를 방지하고, 데이터 일관성과 견고성을 보장하기 위해 사용된다. 

shared lock: 읽기 가능 

exclusive lock: 무조건 읽지도 못함

t1, t2가 동시에 계좌에 송금 

Exclusive Lock 

다른 트랜잭션에서 데이터를 읽을 수도, 쓸 수도 없는 잠금 모드 

다른 트랜잭션의 접근을 허용하지 않음 

Strict 2 Phase Lock

가장 널리 사용되는 잠금 규약

1. t1이 객체를 수정하려면 그 객체에 대해 공유 잠음을 요청
2. t1이 종료될 때, 가지고 있던 모든 잠금을 풀어줌

잠금 규약은 안전한 인터리빙만을 이용함
